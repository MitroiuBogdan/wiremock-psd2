{
  "consumes": [
    "application/json"
  ],
  "definitions": {
    "requestPattern": {
      "properties": {
        "basicAuthCredentials": {
          "properties": {
            "password": {
              "type": "string"
            },
            "username": {
              "type": "string"
            }
          },
          "required": [
            "username",
            "password"
          ],
          "type": "object"
        },
        "bodyPatterns": {
          "items": {
            "type": "object"
          },
          "type": "array"
        },
        "cookies": {
          "type": "object"
        },
        "headers": {
          "type": "object"
        },
        "method": {
          "type": "string"
        },
        "queryParameters": {
          "type": "object"
        },
        "url": {
          "type": "string"
        },
        "urlPath": {
          "type": "string"
        },
        "urlPathPattern": {
          "type": "string"
        },
        "urlPattern": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "stubMapping": {
      "example": {
        "id": "76ada7b0-49ae-4229-91c4-396a36f18e09",
        "request": {
          "method": "GET",
          "url": "/some/thing"
        },
        "response": {
          "body": "Hello world!",
          "headers": {
            "Content-Type": "text/plain"
          },
          "status": 200
        },
        "uuid": "76ada7b0-49ae-4229-91c4-396a36f18e09"
      },
      "properties": {
        "id": {
          "type": "string"
        },
        "newScenarioState": {
          "type": "string"
        },
        "persistent": {
          "type": "boolean"
        },
        "postServeActions": {
          "type": "object"
        },
        "priority": {
          "type": "integer"
        },
        "request": {
          "properties": {
            "basicAuthCredentials": {
              "properties": {
                "password": {
                  "type": "string"
                },
                "username": {
                  "type": "string"
                }
              },
              "required": [
                "username",
                "password"
              ],
              "type": "object"
            },
            "bodyPatterns": {
              "items": {
                "type": "object"
              },
              "type": "array"
            },
            "cookies": {
              "type": "object"
            },
            "headers": {
              "type": "object"
            },
            "method": {
              "type": "string"
            },
            "queryParameters": {
              "type": "object"
            },
            "url": {
              "type": "string"
            },
            "urlPath": {
              "type": "string"
            },
            "urlPathPattern": {
              "type": "string"
            },
            "urlPattern": {
              "type": "string"
            }
          },
          "type": "object"
        },
        "requiredScenarioState": {
          "type": "string"
        },
        "response": {
          "properties": {
            "additionalProxyRequestHeaders": {
              "type": "object"
            },
            "base64Body": {
              "type": "string"
            },
            "body": {
              "type": "string"
            },
            "bodyFileName": {
              "type": "string"
            },
            "delayDistribution": {
              "properties": {
                "median": {
                  "type": "integer"
                },
                "sigma": {
                  "type": "number"
                },
                "type": {
                  "type": "string"
                }
              },
              "required": [
                "type",
                "median",
                "sigma"
              ],
              "type": "object"
            },
            "fault": {
              "type": "string"
            },
            "fixedDelayMilliseconds": {
              "type": "integer"
            },
            "fromConfiguredStub": {
              "type": "boolean"
            },
            "headers": {
              "type": "object"
            },
            "jsonBody": {
              "type": "object"
            },
            "proxyBaseUrl": {
              "type": "string"
            },
            "status": {
              "type": "integer"
            },
            "statusMessage": {
              "type": "string"
            },
            "transformerParameters": {
              "type": "object"
            },
            "transformers": {
              "items": {
                "type": "string"
              },
              "type": "array"
            }
          },
          "type": "object"
        },
        "scenarioName": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "stubMappings": {
      "properties": {
        "mappings": {
          "example": {
            "id": "76ada7b0-49ae-4229-91c4-396a36f18e09",
            "request": {
              "method": "GET",
              "url": "/some/thing"
            },
            "response": {
              "body": "Hello world!",
              "headers": {
                "Content-Type": "text/plain"
              },
              "status": 200
            },
            "uuid": "76ada7b0-49ae-4229-91c4-396a36f18e09"
          },
          "properties": {
            "id": {
              "type": "string"
            },
            "newScenarioState": {
              "type": "string"
            },
            "persistent": {
              "type": "boolean"
            },
            "postServeActions": {
              "type": "object"
            },
            "priority": {
              "type": "integer"
            },
            "request": {
              "properties": {
                "basicAuthCredentials": {
                  "properties": {
                    "password": {
                      "type": "string"
                    },
                    "username": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "username",
                    "password"
                  ],
                  "type": "object"
                },
                "bodyPatterns": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                },
                "cookies": {
                  "type": "object"
                },
                "headers": {
                  "type": "object"
                },
                "method": {
                  "type": "string"
                },
                "queryParameters": {
                  "type": "object"
                },
                "url": {
                  "type": "string"
                },
                "urlPath": {
                  "type": "string"
                },
                "urlPathPattern": {
                  "type": "string"
                },
                "urlPattern": {
                  "type": "string"
                }
              },
              "type": "object"
            },
            "requiredScenarioState": {
              "type": "string"
            },
            "response": {
              "properties": {
                "additionalProxyRequestHeaders": {
                  "type": "object"
                },
                "base64Body": {
                  "type": "string"
                },
                "body": {
                  "type": "string"
                },
                "bodyFileName": {
                  "type": "string"
                },
                "delayDistribution": {
                  "properties": {
                    "median": {
                      "type": "integer"
                    },
                    "sigma": {
                      "type": "number"
                    },
                    "type": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "type",
                    "median",
                    "sigma"
                  ],
                  "type": "object"
                },
                "fault": {
                  "type": "string"
                },
                "fixedDelayMilliseconds": {
                  "type": "integer"
                },
                "fromConfiguredStub": {
                  "type": "boolean"
                },
                "headers": {
                  "type": "object"
                },
                "jsonBody": {
                  "type": "object"
                },
                "proxyBaseUrl": {
                  "type": "string"
                },
                "status": {
                  "type": "integer"
                },
                "statusMessage": {
                  "type": "string"
                },
                "transformerParameters": {
                  "type": "object"
                },
                "transformers": {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "scenarioName": {
              "type": "string"
            }
          },
          "type": "object"
        },
        "meta": {
          "properties": {
            "total": {
              "type": "integer"
            }
          },
          "required": [
            "total"
          ],
          "type": "object"
        }
      },
      "type": "object"
    }
  },
  "info": {
    "title": "WireMock",
    "version": "2.3.1"
  },
  "paths": {
    "/__admin/mappings": {
      "delete": {
        "description": "Delete all stub mappings",
        "responses": {
          "200": {
            "description": "Successfully deleted"
          }
        }
      },
      "get": {
        "description": "Get all stub mappings",
        "parameters": [
          {
            "description": "The maximum number of results to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "type": "number"
          },
          {
            "description": "The start index of the results to return",
            "in": "query",
            "name": "offset",
            "required": false,
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "description": "All stub mappings",
            "schema": {
              "$ref": "#/definitions/stubMappings"
            }
          }
        }
      },
      "post": {
        "description": "Create a new stub mapping",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/stubMapping"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successfully created",
            "schema": {
              "$ref": "#/definitions/stubMapping"
            }
          }
        }
      }
    },
    "/__admin/mappings/reset": {
      "post": {
        "description": "Reset stub mappings (restore to defaults defined back the backing store)",
        "responses": {
          "200": {
            "description": "Successfully reset"
          }
        }
      }
    },
    "/__admin/mappings/save": {
      "post": {
        "description": "Save all persistent stub mappings to the backing store",
        "responses": {
          "200": {
            "description": "Successfully removed"
          }
        }
      }
    },
    "/__admin/mappings/{stubMappingId}": {
      "delete": {
        "description": "Delete a stub mapping",
        "parameters": [
          {
            "description": "The UUID of stub mapping",
            "in": "path",
            "name": "stubMappingId",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "get": {
        "description": "Get a single stub mapping",
        "parameters": [
          {
            "description": "The UUID of stub mapping",
            "in": "path",
            "name": "stubMappingId",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/stubMapping"
            }
          }
        }
      },
      "put": {
        "description": "Update an existing stub mapping",
        "parameters": [
          {
            "description": "The UUID of stub mapping",
            "in": "path",
            "name": "stubMappingId",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/stubMapping"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/stubMapping"
            }
          }
        }
      }
    },
    "/__admin/near-misses/request": {
      "post": {
        "description": "Find at most 3 near misses for closest stub mappings to the specified request",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Near misses matching criteria"
          }
        }
      }
    },
    "/__admin/near-misses/request-pattern": {
      "post": {
        "description": "Find at most 3 near misses for closest logged requests to the specified request pattern",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/requestPattern"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Near misses matching criteria"
          }
        }
      }
    },
    "/__admin/requests": {
      "get": {
        "description": "Get received requests",
        "parameters": [
          {
            "description": "The maximum number of results to return",
            "in": "query",
            "name": "limit",
            "type": "string"
          },
          {
            "description": "Only return logged requests after this date",
            "in": "query",
            "name": "since",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/__admin/requests/count": {
      "post": {
        "description": "Count requests logged in the journal matching the specified criteria",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/requestPattern"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Number of matching requests"
          }
        }
      }
    },
    "/__admin/requests/find": {
      "post": {
        "description": "Retrieve details of requests logged in the journal matching the specified criteria",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/requestPattern"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Matching request details"
          }
        }
      }
    },
    "/__admin/requests/reset": {
      "post": {
        "description": "Empty the request journal",
        "responses": {
          "200": {
            "description": "Successfully reset"
          }
        }
      }
    },
    "/__admin/requests/unmatched": {
      "get": {
        "description": "Get details of logged requests that weren't matched by any stub mapping",
        "responses": {
          "200": {
            "description": "Unmatched request details"
          }
        }
      }
    },
    "/__admin/requests/unmatched/near-misses": {
      "get": {
        "description": "Retrieve near-misses for all unmatched requests",
        "responses": {
          "200": {
            "description": "Top 3 (at most) near misses for each unmatched request"
          }
        }
      }
    },
    "/__admin/requests/{requestId}": {
      "get": {
        "parameters": [
          {
            "description": "The UUID of the logged request",
            "in": "path",
            "name": "requestId",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/__admin/scenarios/reset": {
      "post": {
        "description": "Reset the state of all scenarios",
        "responses": {
          "200": {
            "description": "Successfully reset"
          }
        }
      }
    },
    "/__admin/settings": {
      "post": {
        "description": "Update global settings",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Settings successfully updated"
          }
        }
      }
    }
  },
  "produces": [
    "application/json"
  ],
  "securityDefinitions": {},
  "swagger": "2.0"
}
